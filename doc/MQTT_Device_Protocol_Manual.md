# MQTT设备接入协议手册

## 1. 概述
本协议定义了设备通过MQTT协议接入物联网平台的通信规范。设备作为发布者向平台发送数据，平台作为订阅者接收并处理数据。

## 2. 连接参数
- Broker地址: 101.201.60.179
- 端口: 1883
- 用户名: lrl001
- 密码: 123456
- topic: 40800965

## 3. 消息格式
### 3.1 消息结构
消息采用JSON格式，包含以下字段：
```json
{
  "VD0": 0,
  "VD4": 14,
  "M1": {
    "0": false,
    "1": true,
    "2": false,
    "3": true
  },
  "M3": {
    "0": false,
    "1": false,
    "2": false,
    "3": false,
    "4": false,
    "5": false,
    "6": false,
    "7": true
  }
}
```

### 3.2 数据类型
- 数值类型：整数或浮点数
- 布尔类型：true/false，以字典形式表示，键为字符串数字

### 3.3 数据权限
- 变量分为三种不同的权限类型：
  * 只读（Read-Only）：只能读取，不能修改
  * 只写（Write-Only）：只能写入，不能读取
  * 可读写（Read-Write）：可以读取和写入

### 3.4 变量命名规范
- 变量命名前缀说明：
  * VW：16位无符号整数
  * VD：32位浮点数
  * M：布尔值
- 变量命名格式：
  * 前缀 + 数字编号（如VW100, VD500, M1）
  * 布尔值变量可包含子变量（如M1.0, M1.1）

## 4. Topic规范
设备发布消息的topic格式：
```
40800965
```

## 5. 注意事项
1. 确保变量命名符合规范（VW/VD/M开头）
2. 数值类型数据直接以键值对形式表示
3. 布尔类型数据以字典形式表示，键为字符串数字
4. 数据精度根据实际需求保留
